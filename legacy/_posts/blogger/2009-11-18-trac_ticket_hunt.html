---
layout: bloggerpost
title: Trac Ticket Hunt
publish: true
categories: [Parrot, ParrotProjectIdeas]
---

Yesterday, after a herculean effort, the Parrot devs <a href="http://lists.parrot.org/pipermail/parrot-dev/2009-November/003371.html">closed out the remaining old tickets from the RT system</a>. Many of the tickets were vague and uncloseable, or unreproducible. Many of them were translated into <a href="https://trac.parrot.org/parrot">Trac tickets</a> for futher monitoring.<br /><br />Of course, we still have a lot of open tickets in Trac. Over 600 of them, as <a href="http://lists.parrot.org/pipermail/parrot-dev/2009-November/003376.html">Coke pointed out in an email this morning</a>. That's quite a huge number of open issues, and really too many for our current development team to deal with in a reasonable amount of time. We need help dealing with this huge backlog, and this is a great opportunity for new interested people to get involved in Parrot.<br /><br /><span style="font-size:180%;">Preparing for 2.0</span><br /><br />The <a href="http://www.parrot.org/news/2009/Parrot-1.8.0">1.8 release went out the door on Tuesday</a>, and I think it went much more smoothly than 1.7 did last month. Not completely without hiccups, but better. Now we're in the home stretch for the big 2.0 release in January where the mantra is "production ready".<br /><br />What does it mean to be production ready? First and foremost I think of stability and reliability. Nobody is going to invest time and effort in software that isn't stable. Next, I think about performance. Computer hardware isn't cheap, and we can't be shipping a piece of software that hogs processor cycles and costs companies more money to support.<br /><br />With these goals in mind (and I would love to hear what other people think "Production Ready" means), I think there are two big things we need to focus on: Testing and Profiling.<br /><br /><span style="font-size:180%;">Testing</span><br /><br />Test reports are good, and we're starting to get a <a href="http://smolder.plusthree.com/app/public_projects/smoke_reports/8">very large volume of test reports </a>flowing in, including test reports on new or exotic system. Bravo to anybody who has set up an automatic build bot in the past few months. It is sincerely appreciated.<br /><br />Test reports are a good and necessary first step, but are by no means the end. Tests are good when they all pass, but that's boring (and unfortunately, it's not usually the case). What's really interesting and important is finding the failing tests and writing up Trac tickets for them so they can get fixed. So here are some things you can do to help:<br /><ol><li>Monitor the stream of incoming Smolder reports and look for failures</li><li>If the failure is happening on a platform that you can test on, try to verify it</li><li>See if you can isolate the code from the test that is failing. <span style="font-weight: bold;">Bonus points</span>: See if you can write your own small test that demonstrates the bug. The smaller the better.<br /></li><li>Open a Trac ticket including information about your platform, the revision where the failures first start appearing (as close as you can tell), and any test cases you've produced that exercise it.</li><li>If you're able, submit patches to fix the issue, patches to improve testing of the issue, or patches for documentation to explain what the desired behavior is</li></ol>All of these things would be very awesome, and are all great ways to get involved in Parrot without having to dive into the source code head first.<br /><br /><span style="font-size:180%;">Profiling and Benchmarking</span><br /><br />Let's not fool ourselves: Parrot is not speedy fast right now as far as VMs are concerned. We don't have JIT, we don't have a good GC, we don't even have PIC. We don't do enough caching, our startup time is still terrible, etc. There are lots of big optimizing features that we need to implement in the coming months and years if we truly want to be a viable and even formidable alternative to other VMs.<br /><br />However, this all doesn't mean that the only performance benefits that we need come from these huge projects with weird acronyms. There are plenty of small implementation and algorithmic improvements that we can make throughout to start slimming this bird down, some of which will have serious effects on our performance. Parrot is so large though that we can't necessarily find all these little optimization opportunities easily. We need to narrow the search. This is where profiling and benchmarking come in. This is where we need <span style="font-weight: bold;">you</span>.<br /><br />Parrot has a fancy new profiler tool that can be used to profile programs written in PIR or any of the HLLs that run on top of Parrot. It still needs lots of documentation, but it should be mostly easy to use for people willing to poke around in it. If you can find a good example program that demonstrates some real-word usage patterns, we would love for you to profile them and send us the reports. Knowing where the bottlenecks and slowdowns are will help us to target, refactor, and improve them, and that's a big help.<br /><br />To start up the profiler, run Parrot with this incantation:<br /><pre><br />> parrot -Rprofiling<br /></pre><br />For more information about what to do with it, hop onto the IRC channel and ask around. I haven't used this much myself, but it would be cool to get started.<br /><br />To prove that we are indeed making things faster, we need benchmarks. Good benchmarks are programs that perform lots of very repetitive work and target a particular Parrot subsystem. We want programs that really exercise Parrot, and can do it in a consistent way. Then, we can use timings on these benchmarks to show whether Parrot's performance is improving or getting worse over time. This is very important.<br /><br /><span style="font-size:180%;">Ticket Triage</span><br /><br />As <a href="http://lists.parrot.org/pipermail/parrot-dev/2009-November/003376.html">Coke mentioned in his email</a>, we can't sit back and congratulate ourselves now that RT is empty. We need to focus our attentions now on the growing backlog of tickets in Trac. Some of the issues documented there are very serious and will definitely prevent Parrot from being stable and "production ready" by 2.0.<br /><br />As Coke outlined, we need people to go through old tickets and answer a few questions:<br /><ol><li>Can we reproduce this issue now with Parrot 1.8.0? Many tickets were filed weeks or even months ago, and may have disappeared in the course of normal development</li><li>Look at RFC tickets (requests for comments) and weigh in. Do the changes described make sense? Would they be beneficial? Many of these tickets are simply waiting for some kind of discussion before they get closed.</li><li>If the ticket involves an HLL, see if you can reproduce the issue using pure-PIR code instead of high-level code. Parrot operates on PIR natively, so Parrot developers are most easily going to be able to fix problems that can be demonstrated in PIR</li><li>If you see a ticket with a segfault, sigbus, sigfpu or other system error condition, see if you can provide a backtrace.</li><li>If a ticket contains a patch, see if the patch still applies cleanly to trunk. If so, see if the patch fixes the problem.</li><li>Add comments or set other information to make sure the ticket stays up-to-date and informative. Even if the information you add is small ("Still a problem!" or "fixed!"), that's still something. If nothing else, make sure the ticket is properly categorized by component, milestone, etc. You'll probably need to create a Trac account (free and easy!) in order to make modifications</li><li>Look for duplicates. If two tickets describe the same problem, one of them can go.<br /></li><li>If the ticket can be legitimately closed (fixed, no longer a problem, a duplicate, etc) make sure that happens. Hop on IRC or the mailing list and harrass people until it gets closed. It may be a little bit annoying, but it will get results.</li></ol><span style="font-size:180%;">Conclusion</span><br /><br />I haven't done a <a href="/categories/Parrot4Newbies.html">Parrot4Newbies</a> post in a while, and I know some people have been looking for ways to get involved. With 2.0 on the horizon testing, profiling, and ticket triaging are all great and incredibly pertinent ways to get involved. And more importantly then just being involved, these are all great ways to help Parrot grow and get ready for the big milestone. So if you are interested in Parrot and have a few spare moments, take a look at some tickets and see what you can accomplish. I can guarantee that anything you get done will be much appreciated.
