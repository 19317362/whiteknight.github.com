---
layout: post
categories: [Parrot, Lorito]
title: PIR is the Problem. Lorito, the Solution
---

I saw somebody suggest that we shouldn't get rid of PIR, because they didn't
want to be programming in PASM or Lorito. Both these things are lower-level
and not as nice syntactically as PIR. Why would we want to throw away
something that is reasonable and replace it with something dark and scary?
Don't throw away the baby with the bath water, and definitely don't take a bad
language away from us any replace it with a *horrible* one.

"Without PIR to save us from the darkness, we might be forced to twiddle the
individual bits on our hard disk platters with a sharpened nail and a
magnifying glass", you exclaim. "There's no way any of us has enough time or
enough antacid for that kind of crap!"

I want to get rid of PIR. I sincerely do. My smile will be so large and
cartoonish the day I select the entire `compilers/imcc` folder in the Parrot
repository and press the delete key that it will irreversibly alter the
skeletal structure of my skull. Actually, I should rephrase that. I've already
performed that exercise multiple times locally for great catharsis. It's
actually committing the result that will make me really, permanently happy.

PIR is not the answer. It's not the solution. It's not our saving grace.
We're huddled around it like starving homeless orphans around a dumpster,
rejoicing that somebody threw away some bits of tomato in an otherwise empty
tin can. I'm not suggesting that we abandon the tomato and instead eat the
can; I'm suggesting that we walk away from the dumpster and go grab ourselves
a sandwich. PIR is holding us down, and without it we will rise *up*, not fall
down even lower.

"Sure PIR has it's faults, but it's certainly better than PASM", you say. "And
I don't know what Lorito will look like, but it's sounding like it's even less
friendly to the programmer than PASM is. Plus, you can't do everything in PASM
that you can do in PIR, right? PASM really isn't complete enough to use."

Again, I don't want us to abandon PIR and move *down* from it. PASM is a
clown's fart; an old bad memory. It's a story we tell children when they
misbehave. It's more figment of imagination than anythng. Do yourself a favor:
Forget PASM. Forget that it ever existed. Maybe you'll sleep a little better
tonight. I want us to abandon PIR and step *up* from it. We aren't going to
abandon C and start rewriting all our code directly in assembly language. And
if somebody suggests we pick a better language than C the conversation doesn't
immediately jump to whether we want to use AT&T syntax or Intel syntax for our
assembly code. We aren't going to give up our Perl, Tcl, Python or Ruby
and start writing everything in C. We want to move up. Developer time and
effort are important.

It's like in the Blue's Brothers movie where the brothers ask the bartender
what kind of music the audience usually enjoys, and she responds "We have both
types: Country and Western". Trust me when I say that music, as in programming
and life in general offers more options than that. So many more better
options.

Lorito is going to be much lower level than PIR is. Fact. It's going to be
much harder for the human to write. Fact. This is the *intention*. Easier for
a human to read and write almost always correlates to harder for a machine to
understand. This is why we program in a Programming language and not in
English, or Spanish, or Russian.

Lorito is the language that the machine will understand. It is the language of
the machine, for the machine, and by the machine. That last clause is the most
important. Humans won't be writing Lorito code: Machines will.

"So what will the humans be writing? I hope it's not something worse like
PL/1, COBOL, or INTERCAL. Wait, wasn't INTERCAL invented as some kind of
joke? I definitely don't want to be using some kind of assembly language like
I did back in school. Our options without PIR seem so dismal."

We won't be writing PIR. We won't be writing PASM either. Or INTERCAL, or any
other garbage. Sure we'll keep
around an assembler for it, for legacy purposes, but we don't want anybody to
use it. It's like cans of dog food: You might keep them in the pantry,
but they are not for you to eat. You can try it but I don't recommend it. Too
much and you might want to consult a a physician, and maybe a psychologist.

I want to write my [JavaScript compiler in JavaScript][jsinjs]. I want to
write my Rakudo compiler in Perl 6. I want my Python compiler written in
Python, automatically generated by a Python-based code generator, with a
Python optimizer, a Python JIT, and a Python GC. Forget turtles, it's Python
all the way down.

[jsinjs]: http://whiteknight.github.com/2010/12/07/javascript_on_parrot_plan.html

I want to write my code in good languages,
modern languages, powerful languages. I want to write my code in a language
that values my time and my effort. I want to never write the word "goto"
again. It's like a curse word to the computer, and should be one to its
programmer as well. When my kid gets a little bit older I'm going to sit him
down and have a talk with him: Don't use drugs, don't have sex, and absolutely
positively never ever use "goto". The first two become optional once you turn
18.

PIR fills a stupid middle area between the human and the machine. If I
divorced PIR from Parrot, and wrote a PIR compiler that ran by itself and
outputed x86 machine code instead of PBC byte code, would you use it for
anything? If your boss comes to you and says "I need the database analyzed and
a report generated about it, and I need it *yesterday*", do you crack your
knuckles, grab a sports drink, and start furiously writing *PIR*? No. If your
boss comes to you and says "We need a new web interface written up. It has to
be good, it has to be reasonably fast, and we need it *now*", do you start
writing that website in PIR? No.

If you, sitting at home on the couch, decide to start a new open source
project to do anything that isn't parrot-related, do you choose PIR as your
programming language? No. I think you see where I am going with this.

The simple fact is this: Without Parrot, PIR is a useless, stupid, stupid,
stupid, worthless language. If we didn't love Parrot, and want to build things
on top of Parrot, none of us would suffer through another PIR coding session
ever again. Ever. So help me god.

Do yourself a favor: Write some code today on Parrot that isn't in PIR. Do it.
Take a deep, fresh breath and write some Winxed. Or NQP. Write some Rakudo
Perl 6. Write some [C#][parrotsharp]. For real kicks, find a code generation
tool like PCT, or plobsing's new [OMeta-on-Winxed][ohm-eta-wink-kzd] tool, and
tell it to write PIR for you.

[parrotsharp]: http://github.com/Whiteknight/parrotsharp
[ohm-eta-wink-kzd]: https://github.com/plobsing/ohm-eta-wink-kzd

In the new Parrot world, Lorito will be the input to the Parrot Virtual
Machine. Lorito will be small, low-level, and not human-friendly. In the new
Parrot world, we will be writing software in languages that we want to write
in, and let the compilers generate the low-level Lorito code. Nobody should
ever have to write Lorito directly unless they want to. Nobody should ever
have to write PIR again unless they specificaly want to. Parrot is an enabling
force for powerful, modern dynamic languages. Remember all those promises we
told ourselves and other people about how Parrot would allow you to write a
website in PHP, and seamlessly load in a library written in Perl6, or Ruby,
or whatever? We need to start believing that kind of thing is possible, and
we need to start moving in that direction *today*. It's time to start ditching
this low-level PIR crap that we are embarassing ourselves with, and move up to
the kinds of real programming languages that we actually want to use.

PIR is the problem. Lorito is the anwer. It's time for us to embrace that.

